[gcode_shell_command guppy_input_shaper]
command: /usr/data/printer_data/config/GuppyScreen/scripts/calibrate_shaper.py
timeout: 600.0
verbose: True

[calibrate_shaper_config]

[respond]
default_type: echo
default_prefix:

[gcode_macro Shapers]
description: G Shaper Tuning + graphs XY
gcode:
  RESPOND TYPE=command MSG='Homing'
  G28
  RESPOND TYPE=command MSG='Testing X Resonances'
  TEST_RESONANCES AXIS=X NAME=x
  M400
  RESPOND TYPE=command MSG='Generating X Plots'
  RUN_SHELL_COMMAND CMD=guppy_input_shaper PARAMS="/tmp/resonances_x_x.csv -o /usr/data/printer_data/config/resonances_x.png"
  RESPOND TYPE=command MSG='Testing X Resonances'
  TEST_RESONANCES AXIS=Y NAME=y
  M400
  RESPOND TYPE=command MSG='Generating Y Plots'
  RUN_SHELL_COMMAND CMD=guppy_input_shaper PARAMS="/tmp/resonances_y_y.csv -o /usr/data/printer_data/config/resonances_y.png"
