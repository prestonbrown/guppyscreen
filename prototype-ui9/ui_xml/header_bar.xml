<!--
  Copyright (C) 2025 356C LLC
  Author: Preston Brown <pbrown@brown-house.net>

  This file is part of HelixScreen.

  HelixScreen is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  HelixScreen is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with HelixScreen. If not, see <https://www.gnu.org/licenses/>.
-->

<component>
	<!-- Reusable Header Bar Component -->
	<!-- Used in modal overlays, sub-screens, and detail views -->
	<!-- Provides consistent back button + title + optional right content pattern -->

	<!-- API Properties -->
	<api>
		<prop type="string" name="title"/>
		<prop type="string" name="right_button_text" default=""/>
	</api>

	<view extends="lv_obj"
	      width="100%"
	      height="#header_height"
	      style_bg_opa="0"
	      style_border_width="0"
	      style_pad_all="0"
	      style_pad_right="#padding_normal"
	      flex_flow="row"
	      style_flex_main_place="space_between"
	      style_flex_cross_place="center"
	      scrollable="false">

		<!-- Left side: Back button + Title (flexible width, grows to fill available space) -->
		<lv_obj height="100%"
		        flex_grow="1"
		        style_bg_opa="0"
		        style_border_width="0"
		        style_pad_all="0"
		        scrollable="false"
		        flex_flow="row"
		        style_flex_cross_place="center"
		        style_pad_gap="#padding_medium">

			<lv_button name="back_button"
			           width="#header_back_button_size"
			           height="#header_back_button_size"
			           style_bg_opa="0"
			           style_border_width="0"
			           style_shadow_width="0"
			           scrollable="false">
				<icon src="mat_arrow_left"
				      size="md"
				      variant="primary"/>
			</lv_button>

			<lv_label name="header_title"
			          text="$title"
			          style_text_font="montserrat_28"
			          style_text_color="#text_primary"
			          scrollable="false"/>
		</lv_obj>

		<!-- Right side: Action button (hidden by default, shown via C++ when needed) -->
		<lv_button name="right_button"
		           width="#header_right_button_width"
		           height="#header_right_button_height"
		           style_bg_color="#primary_color"
		           style_radius="#card_radius"
		           style_border_width="0"
		           style_shadow_width="0"
		           scrollable="false"
		           hidden="true">
			<lv_label name="right_button_label"
			          text="$right_button_text"
			          align="center"
			          style_text_font="montserrat_16"
			          style_text_color="#text_primary"/>
		</lv_button>
	</view>
</component>
