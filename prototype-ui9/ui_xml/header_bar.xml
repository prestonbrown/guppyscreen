<!--
  Copyright (C) 2025 356C LLC
  Author: Preston Brown <pbrown@brown-house.net>

  This file is part of GuppyScreen.

  GuppyScreen is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  GuppyScreen is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with GuppyScreen. If not, see <https://www.gnu.org/licenses/>.
-->

<component>
	<!-- Reusable Header Bar Component -->
	<!-- Used in modal overlays, sub-screens, and detail views -->
	<!-- Provides consistent back button + title + optional right content pattern -->

	<!-- API Properties -->
	<api>
		<prop type="string" name="title"/>
		<prop type="string" name="right_button_text" default=""/>
		<prop type="bool" name="show_right_button" default="false"/>  <!-- Controls button visibility -->
	</api>

	<view extends="lv_obj"
	      width="100%"
	      height="60"
	      style_bg_opa="0"
	      style_border_width="0"
	      style_pad_all="0"
	      flex_flow="row"
	      style_flex_main_place="space_between"
	      style_flex_cross_place="center"
	      flag_scrollable="false">

		<!-- Left side: Back button + Title -->
		<lv_obj height="100%"
		        width="400"
		        style_bg_opa="0"
		        style_border_width="0"
		        style_pad_all="0"
		        flag_scrollable="false"
		        flex_flow="row"
		        style_flex_cross_place="center"
		        style_pad_gap="#padding_medium">

			<lv_button name="back_button"
			           width="60"
			           height="60"
			           style_bg_opa="0"
			           style_border_width="0"
			           style_shadow_width="0"
			           flag_scrollable="false">
				<lv_image src="mat_back"
				          align="center"
				          zoom="128"
				          style_img_recolor="#text_primary"
				          style_img_recolor_opa="100%"/>
			</lv_button>

			<lv_label name="header_title"
			          text="$title"
			          width="320"
			          style_text_font="montserrat_28"
			          style_text_color="#text_primary"
			          flag_scrollable="false"/>
		</lv_obj>

		<!-- Right side: Confirm button (shown when right_button_text is not empty) -->
		<lv_button name="right_button"
		           width="120"
		           height="40"
		           style_bg_color="#success_color"
		           style_radius="8"
		           style_border_width="0"
		           style_shadow_width="0"
		           flag_scrollable="false"
		           flag_hidden="true">
			<lv_label name="right_button_label"
			          text="$right_button_text"
			          align="center"
			          style_text_font="montserrat_16"
			          style_text_color="#text_primary"/>
		</lv_button>
	</view>
</component>
