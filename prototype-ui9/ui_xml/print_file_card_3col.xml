<!--
  Copyright (C) 2025 356C LLC
  Author: Preston Brown <pbrown@brown-house.net>

  This file is part of GuppyScreen.

  GuppyScreen is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  GuppyScreen is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with GuppyScreen. If not, see <https://www.gnu.org/licenses/>.
-->

<component>
	<!-- Print File Card Component - 3 Column Layout
	     For 480 screens: 107px wide, 83px thumbnails
	     Compact layout with smaller fonts for tiny screens
	-->

	<api>
		<prop type="string" name="thumbnail_src"/>
		<prop type="string" name="filename"/>
		<prop type="string" name="print_time"/>
		<prop type="string" name="filament_weight"/>
	</api>

	<view extends="lv_obj"
	      width="#print_file_card_width_3col"
	      height="#print_file_card_height_3col"
	      style_bg_color="#card_bg"
	      style_radius="#card_radius"
	      style_border_width="0"
	      style_pad_all="8"
	      flex_flow="column"
	      flex_align="start,start,start"
	      flag_clickable="true"
	      flag_scrollable="false">

		<!-- Thumbnail image (square, responsive width) -->
		<lv_image src="$thumbnail_src"
		          width="100%"
		          height="#print_file_card_thumb_3col"
		          style_radius="4"
		          inner_align="center"
		          style_bg_color="#print_file_card_thumbnail_bg"
		          name="thumbnail"/>

		<!-- Filename label (single line, truncated with ...) -->
		<lv_label text="$filename"
		          width="100%"
		          height="16"
		          long_mode="dots"
		          flex_grow="0"
		          style_text_color="#text_primary"
		          style_text_font="montserrat_14"
		          style_pad_top="6"
		          style_pad_all="0"
		          name="filename_label"/>

		<!-- Metadata row (time + filament, stacked vertically on tiny screens) -->
		<lv_obj width="100%"
		        height="40"
		        style_bg_opa="0%"
		        style_border_width="0"
		        style_pad_all="0"
		        style_pad_top="4"
		        flex_flow="column"
		        flex_align="start,start,start"
		        style_pad_gap="4"
		        name="metadata_row">

			<!-- Print time (icon + text) -->
			<lv_obj width="100%"
			        height="16"
			        style_bg_opa="0%"
			        style_border_width="0"
			        style_pad_all="0"
			        flex_flow="row"
			        style_pad_gap="3"
			        flex_align="start,center,center">
				<lv_label text="#icon_clock"
				          width="12"
				          height="16"
				          style_text_color="#primary_color"
				          style_text_font="fa_icons_16"
				          style_pad_all="0"/>
				<lv_label text="$print_time"
				          width="70"
				          height="16"
				          style_text_color="#text_secondary"
				          style_text_font="montserrat_14"
				          style_pad_all="0"
				          flex_grow="0"
				          name="time_label"/>
			</lv_obj>

			<!-- Filament weight (icon + text) -->
			<lv_obj width="100%"
			        height="16"
			        style_bg_opa="0%"
			        style_border_width="0"
			        style_pad_all="0"
			        flex_flow="row"
			        style_pad_gap="3"
			        flex_align="start,center,center">
				<lv_label text="#icon_leaf"
				          width="12"
				          height="16"
				          style_text_color="#primary_color"
				          style_text_font="fa_icons_16"
				          style_pad_all="0"/>
				<lv_label text="$filament_weight"
				          width="70"
				          height="16"
				          style_text_color="#text_secondary"
				          style_text_font="montserrat_14"
				          style_pad_all="0"
				          flex_grow="0"
				          name="filament_label"/>
			</lv_obj>
		</lv_obj>
	</view>
</component>
