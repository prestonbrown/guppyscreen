<!--
  Copyright (C) 2025 356C LLC
  Author: Preston Brown <pbrown@brown-house.net>

  This file is part of GuppyScreen.

  GuppyScreen is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  GuppyScreen is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with GuppyScreen. If not, see <https://www.gnu.org/licenses/>.
-->

<component>
	<!-- Print Status Panel - Active print monitoring -->
	<view extends="lv_obj" name="print_status_panel" width="100%" height="100%" style_bg_color="#panel_bg" style_pad_all="0" style_border_width="0" flex_flow="column">

		<!-- Header with back button and filename -->
		<lv_obj width="100%" height="#header_height" style_bg_color="#card_bg" style_border_width="0" style_pad_all="#padding_medium" flex_flow="row" style_flex_cross_place="center" style_pad_gap="#gap_normal">
			<lv_button name="back_button" width="#button_height_small" height="#button_height_small" style_bg_opa="0" style_shadow_width="0" style_border_width="0" style_radius="#card_radius" style_pad_all="0">
				<icon src="mat_back" size="md" variant="primary"/>
			</lv_button>
			<lv_label name="filename_label" flex_grow="1" bind_text="print_filename" style_text_font="#font_heading" style_text_color="#text_primary" style_text_align="left"/>
		</lv_obj>

		<!-- Scrollable content area -->
		<lv_obj name="content_scroll" flex_grow="1" width="100%" style_bg_opa="0" style_pad_all="#padding_normal" style_border_width="0" flex_flow="column" style_pad_gap="#gap_large" flag_scrollable="true" scroll_dir="ver">

			<!-- Progress card -->
			<lv_obj width="100%" style_bg_color="#card_bg" style_border_width="0" style_radius="#card_radius_large" style_pad_all="#padding_card_emphasis" flex_flow="column" style_pad_gap="#gap_normal">
				<lv_label name="progress_label" bind_text="print_progress_text" style_text_font="#font_large" style_text_color="#primary_color" style_text_align="center"/>
				<lv_bar name="progress_bar" width="100%" height="#progress_bar_height" style_bg_color="#bg_dark" style_bg_opa="255" style_radius="#card_radius">
					<lv_bar_indicator style_bg_color="#primary_color" style_radius="#card_radius"/>
				</lv_bar>
				<lv_label name="layer_label" bind_text="print_layer_text" style_text_font="#font_body" style_text_color="#text_secondary" style_text_align="center"/>
			</lv_obj>

			<!-- Time card -->
			<lv_obj width="100%" style_bg_color="#card_bg" style_border_width="0" style_radius="#card_radius_large" style_pad_all="#padding_card" flex_flow="column" style_pad_gap="#gap_small">
				<lv_obj width="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_flex_main_place="space_between">
					<lv_label text="Elapsed:" style_text_font="#font_body" style_text_color="#text_secondary"/>
					<lv_label name="elapsed_label" bind_text="print_elapsed" style_text_font="#font_body" style_text_color="#text_primary"/>
				</lv_obj>
				<lv_obj width="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_flex_main_place="space_between">
					<lv_label text="Remaining:" style_text_font="#font_body" style_text_color="#text_secondary"/>
					<lv_label name="remaining_label" bind_text="print_remaining" style_text_font="#font_body" style_text_color="#text_primary"/>
				</lv_obj>
			</lv_obj>

			<!-- Stats card -->
			<lv_obj width="100%" style_bg_color="#card_bg" style_border_width="0" style_radius="#card_radius_large" style_pad_all="#padding_card" flex_flow="column" style_pad_gap="#gap_tiny">
				<lv_obj width="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_flex_main_place="space_between">
					<lv_label text="Nozzle:" style_text_font="#font_body" style_text_color="#text_secondary"/>
					<lv_label name="nozzle_temp_label" bind_text="nozzle_temp_text" style_text_font="#font_body" style_text_color="#text_primary"/>
				</lv_obj>
				<lv_obj width="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_flex_main_place="space_between">
					<lv_label text="Bed:" style_text_font="#font_body" style_text_color="#text_secondary"/>
					<lv_label name="bed_temp_label" bind_text="bed_temp_text" style_text_font="#font_body" style_text_color="#text_primary"/>
				</lv_obj>
				<lv_obj width="100%" height="#divider_height" style_bg_color="#text_secondary" style_bg_opa="#divider_opacity" style_border_width="0" style_pad_all="0"/>
				<lv_obj width="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_flex_main_place="space_between">
					<lv_label text="Speed:" style_text_font="#font_body" style_text_color="#text_secondary"/>
					<lv_label name="speed_label" bind_text="print_speed_text" style_text_font="#font_body" style_text_color="#text_primary"/>
				</lv_obj>
				<lv_obj width="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_flex_main_place="space_between">
					<lv_label text="Flow:" style_text_font="#font_body" style_text_color="#text_secondary"/>
					<lv_label name="flow_label" bind_text="print_flow_text" style_text_font="#font_body" style_text_color="#text_primary"/>
				</lv_obj>
			</lv_obj>

			<!-- Action buttons at bottom of scrollable area -->
			<lv_obj width="100%" height="64" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_pad_gap="#gap_normal">
				<lv_button name="btn_pause" flex_grow="1" height="#button_height_normal" style_bg_color="#warning_color" style_radius="#card_radius" style_border_width="0" style_shadow_width="0">
					<lv_label name="pause_label" bind_text="pause_button_text" style_text_font="#font_heading" style_text_color="#text_primary" align="center"/>
				</lv_button>
				<lv_button name="btn_tune" flex_grow="1" height="#button_height_normal" style_bg_color="#card_bg_dark" style_radius="#card_radius" style_border_width="0" style_shadow_width="0">
					<lv_label text="Tune" style_text_font="#font_heading" style_text_color="#text_primary" align="center"/>
				</lv_button>
				<lv_button name="btn_cancel" flex_grow="1" height="#button_height_normal" style_bg_color="#primary_color" style_radius="#card_radius" style_border_width="0" style_shadow_width="0">
					<lv_label text="Cancel" style_text_font="#font_heading" style_text_color="#text_primary" align="center"/>
				</lv_button>
			</lv_obj>

		</lv_obj>

	</view>
</component>
